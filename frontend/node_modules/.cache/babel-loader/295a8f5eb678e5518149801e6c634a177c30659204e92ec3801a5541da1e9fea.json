{"ast":null,"code":"import { openDB } from 'idb';\nconst DB_NAME = 'micro-pos-db';\nconst DB_VERSION = 1;\nconst STORE_SALES = 'pending-sales';\nexport async function initDB() {\n  return openDB(DB_NAME, DB_VERSION, {\n    upgrade(db) {\n      if (!db.objectStoreNames.contains(STORE_SALES)) {\n        db.createObjectStore(STORE_SALES, {\n          keyPath: 'id',\n          autoIncrement: true\n        });\n      }\n    }\n  });\n}\nexport async function savePendingSale(sale) {\n  const db = await initDB();\n  return db.add(STORE_SALES, sale);\n}\nexport async function getPendingSales() {\n  const db = await initDB();\n  return db.getAll(STORE_SALES);\n}\nexport async function clearPendingSales() {\n  const db = await initDB();\n  const tx = db.transaction(STORE_SALES, 'readwrite');\n  await tx.store.clear();\n  await tx.done;\n}","map":{"version":3,"names":["openDB","DB_NAME","DB_VERSION","STORE_SALES","initDB","upgrade","db","objectStoreNames","contains","createObjectStore","keyPath","autoIncrement","savePendingSale","sale","add","getPendingSales","getAll","clearPendingSales","tx","transaction","store","clear","done"],"sources":["/home/akyii/micro-pos-app/frontend/src/utils/indexedDB.js"],"sourcesContent":["import { openDB } from 'idb';\n\nconst DB_NAME = 'micro-pos-db';\nconst DB_VERSION = 1;\nconst STORE_SALES = 'pending-sales';\n\nexport async function initDB() {\n  return openDB(DB_NAME, DB_VERSION, {\n    upgrade(db) {\n      if (!db.objectStoreNames.contains(STORE_SALES)) {\n        db.createObjectStore(STORE_SALES, { keyPath: 'id', autoIncrement: true });\n      }\n    },\n  });\n}\n\nexport async function savePendingSale(sale) {\n  const db = await initDB();\n  return db.add(STORE_SALES, sale);\n}\n\nexport async function getPendingSales() {\n  const db = await initDB();\n  return db.getAll(STORE_SALES);\n}\n\nexport async function clearPendingSales() {\n  const db = await initDB();\n  const tx = db.transaction(STORE_SALES, 'readwrite');\n  await tx.store.clear();\n  await tx.done;\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,KAAK;AAE5B,MAAMC,OAAO,GAAG,cAAc;AAC9B,MAAMC,UAAU,GAAG,CAAC;AACpB,MAAMC,WAAW,GAAG,eAAe;AAEnC,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC7B,OAAOJ,MAAM,CAACC,OAAO,EAAEC,UAAU,EAAE;IACjCG,OAAOA,CAACC,EAAE,EAAE;MACV,IAAI,CAACA,EAAE,CAACC,gBAAgB,CAACC,QAAQ,CAACL,WAAW,CAAC,EAAE;QAC9CG,EAAE,CAACG,iBAAiB,CAACN,WAAW,EAAE;UAAEO,OAAO,EAAE,IAAI;UAAEC,aAAa,EAAE;QAAK,CAAC,CAAC;MAC3E;IACF;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeC,eAAeA,CAACC,IAAI,EAAE;EAC1C,MAAMP,EAAE,GAAG,MAAMF,MAAM,CAAC,CAAC;EACzB,OAAOE,EAAE,CAACQ,GAAG,CAACX,WAAW,EAAEU,IAAI,CAAC;AAClC;AAEA,OAAO,eAAeE,eAAeA,CAAA,EAAG;EACtC,MAAMT,EAAE,GAAG,MAAMF,MAAM,CAAC,CAAC;EACzB,OAAOE,EAAE,CAACU,MAAM,CAACb,WAAW,CAAC;AAC/B;AAEA,OAAO,eAAec,iBAAiBA,CAAA,EAAG;EACxC,MAAMX,EAAE,GAAG,MAAMF,MAAM,CAAC,CAAC;EACzB,MAAMc,EAAE,GAAGZ,EAAE,CAACa,WAAW,CAAChB,WAAW,EAAE,WAAW,CAAC;EACnD,MAAMe,EAAE,CAACE,KAAK,CAACC,KAAK,CAAC,CAAC;EACtB,MAAMH,EAAE,CAACI,IAAI;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}